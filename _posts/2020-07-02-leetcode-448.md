---
title: leetcode-448
date: 2020-07-02 16:16-0800
categories:
-   leetcode
tags:
- leetcode-pattern practice
---

## Find All Numbers Disappeared in an Array

### åæ§½ï¼š

æ— åæ§½ï¼Œå”¯ä¸€ä¸€ç‚¹å°±æ˜¯ä»¥åå†ä¹Ÿä¸æ™šä¸Šåˆ·é¢˜ï¼Œä¸ç„¶ä¸ä¼šçš„è¯å°±ä¸å¾—ä¸ç†¬å¤œğŸ˜¡

### é—®é¢˜æè¿°ï¼š

Given an array of integers where 1 â‰¤ a[i] â‰¤ *n* (*n* = size of array), some elements appear twice and others appear once.

Find all the elements of [1, *n*] inclusive that do not appear in this array.

Could you do it without extra space and in O(*n*) runtime? You may assume the returned list does not count as extra space.

#### Example:

```python
Input:[4,3,2,7,8,2,3,1]
Output:[5,6]
```

```python
Input: []
Output: [] #æ‰€ä»¥åšé¢˜æ—¶è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µ
```

### æ€è·¯ï¼š

æœ¬é¢˜å¯èƒ½ä¼šå«æœ‰å¤šä¸ªé‡å¤å…ƒç´ ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘åˆ©ç”¨setæ¥æ’é™¤é‡å¤å…ƒç´ ï¼Œæœ¬é¢˜ä¸æ‰¾ä¸€ä¸ªç¼ºå¤±å…ƒç´ çš„ä¸åŒä¹‹å¤„æ˜¯ï¼šè‹¥ä¸º<code>[1,1]</code>,åˆ™ç¼ºå¤±å…ƒç´ ä¸º<code>[2]</code>,æ‰€ä»¥åº”å•ç‹¬è®¾ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘setï¼Œå½“æ‰€æœŸå¾…çš„å…ƒç´ ä¸åœ¨è§„å®šçš„ç´¢å¼•å¤„æ—¶åˆ™åŠ å…¥åˆ°è¿”å›åˆ—è¡¨ä¸­ï¼Œå¦åˆ™æŒ‡å‘setçš„æŒ‡é’ˆåŠ 1ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡æ¯”è¾ƒã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒæŒ‡é’ˆä¸è¦è¶…è¿‡listçš„ç´¢å¼•èŒƒå›´ã€‚

åˆ©ç”¨äº†setè½¬æ¢ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO($n$).

| æ—¶é—´å¤æ‚åº¦              | ç©ºé—´å¤æ‚åº¦            |
| ----------------------- | --------------------- |
| <center>O($n$)</center> | <center>O(n)<center/> |

### pythonï¼š

```python
class Solution:
    def findDisappearedNumbers(self, nums: List[int]) -> List[int]:
        res = []
        if len(nums) == 0:
            return res
        else:
            j = 0
            nums.sort()
            n = set(nums)
            n_ = list(n)
            l = len(n_)
            for i in range(len(nums)):
                expected_num = 1 +i
                if expected_num != n_[j]:
                    res.append(expected_num)
                else:
                    if j!=len(n)-1:
                        j+=1
            return res
```

### å¤§ä½¬çš„è§£å†³æ–¹æ¡ˆï¼š

#### åˆ©ç”¨pythonçš„setçš„å·®é›†ï¼š

set - set æˆ– set.difference(set)

åªèƒ½è¯´å¤ªå¼ºäº†ã€‚

| æ—¶é—´å¤æ‚åº¦              | ç©ºé—´å¤æ‚åº¦            |
| ----------------------- | --------------------- |
| <center>O($n$)</center> | <center>O(n)<center/> |

```python
class Solution:
    def findDisappearedNumbers(self, nums: List[int]) -> List[int]:
        return list((set(range(1, len(nums) + 1))) - (set(nums)))
```

#### åˆ©ç”¨hash_tableï¼š

ä¸‰æ¬¡è¿­ä»£æ—¶é—´åˆ†åˆ«ä¸ºO($n$)ï¼ŒæŸ¥æ‰¾åˆ¤æ–­å–å‡ºä»…éœ€O(1).

ä½¿ç”¨äº†hashtable

| æ—¶é—´å¤æ‚åº¦              | ç©ºé—´å¤æ‚åº¦              |
| ----------------------- | ----------------------- |
| <center>O($n$)</center> | <center>O($n$)<center/> |

```python
class Solution:
    def findDisappearedNumbers(self, nums: List[int]) -> List[int]:
    
        hash_table = {}
        for i in range(1,len(nums)+1):
            hash_table[i] = 0
        for num in nums:
            hash_table[num] = 1
            
        l = []
        for key,value in hash_table.items():
            if value == 0:
                l.append(key)
        return l
```

#### å¾ªç¯æ’åºï¼š

è‹¥è¿­ä»£å…ƒç´ ä¸åœ¨å¯¹åº”çš„ç´¢å¼•å¤„ï¼Œåˆ™äº¤æ¢ä½ç½®ã€‚

è¿­ä»£å®Œåè¿›è¡Œåˆ¤æ–­ï¼Œè‹¥ç´¢å¼•+1ï¼= nï¼Œåˆ™ä¸ºç¼ºå¤±å…ƒç´ ã€‚

------

> è¯¥æ–¹æ³•å¯¹åº”ä¸14 patterns to ace any codingä¸­çš„å¾ªç¯æ’åºï¼Œè¿™ç§æ¨¡å¼æè¿°äº†ä¸€ç§æœ‰è¶£çš„æ–¹æ³•æ¥å¤„ç†æ¶‰åŠåŒ…å«ç»™å®šèŒƒå›´å†…çš„æ•°å­—çš„æ•°ç»„çš„é—®é¢˜ã€‚å¾ªç¯æ’åºæ¨¡å¼ä¸€æ¬¡åœ¨æ•°ç»„ä¸Šè¿­ä»£ä¸€ä¸ªæ•°å­—ï¼Œå¦‚æœè¦è¿­ä»£çš„å½“å‰æ•°å­—ä¸åœ¨æ­£ç¡®çš„ç´¢å¼•å¤„ï¼Œåˆ™å°†å…¶ä¸åœ¨å…¶æ­£ç¡®çš„ç´¢å¼•å¤„çš„æ•°å­—äº¤æ¢ã€‚

------

##### å¦‚ä½•è¯†åˆ«è¿™ç§æ¨¡å¼ï¼Ÿ

- å®ƒä»¬å°†æ˜¯æ¶‰åŠç¼–å·åœ¨ç»™å®šèŒƒå›´å†…çš„æ’åºæ•°ç»„çš„é—®é¢˜
- å¦‚æœé—®é¢˜è¦æ±‚æ‚¨åœ¨æ’åº/æ—‹è½¬æ•°ç»„ä¸­æŸ¥æ‰¾ç¼ºå¤±/é‡å¤/æœ€å°çš„æ•°å­—
- å¦‚å¯»æ‰¾ä¸¢å¤±æ•°å­—ï¼Œå¯»æ‰¾æœ€å°é—æ¼æ­£æ•°ã€‚





| æ—¶é—´å¤æ‚åº¦              | ç©ºé—´å¤æ‚åº¦            |
| ----------------------- | --------------------- |
| <center>O($n$)</center> | <center>O(1)<center/> |

```python
class Solution:
    def findDisappearedNumbers(self, nums: List[int]) -> List[int]:
        
        for i, v in enumerate(nums):
            while nums[v - 1] != v: nums[v - 1], v = v, nums[v - 1]
                
        return [i + 1 for i, n in enumerate(nums) if i + 1 != n]
```



## æ€»ç»“ï¼š

setæ•°æ®ç»“æ„ä¸å¯è¿­ä»£é€šè¿‡ç´¢å¼•è·å–ä¸‹æ ‡ï¼Œ

list[int]æˆ–set(int):warning:"int" is not iterableï¼Œ

pythonè‡ªå¸¦çš„debuggerè¿˜æŒºå¥½ç”¨çš„

å½“åˆ›å»ºsetæ—¶sizeè‡³å°‘ä¸º8å¤§å°æ‰€ä»¥ç”¨äº†é¢å¤–ç©ºé—´ã€‚

